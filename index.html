<!DOCTYPE html>
<html>
  <head>
    <title>Attendance Check</title>
    <script>
      // Your Google Sheets API key
      const API_KEY = 'AIzaSyAbdPe9cux-NIKSit39SE32m-IEDBe2xME'; // Replace with your actual API key

      // Your Google Sheets ID
      const SPREADSHEET_ID = '1_x0kf2YzprIrGW8oOM4tk9oHbt5NCu6tbBuhxrY6Hss';

      // The sheet name (the first sheet in this case)
      const SHEET_NAME = 'Sheet1';

      // Build Google Sheets API request URL
      const RANGE = `${SHEET_NAME}!A1:A100`;
      const URL = `https://sheets.googleapis.com/v4/spreadsheets/${SPREADSHEET_ID}/values/${RANGE}?key=${API_KEY}`;

      // Fetch data from Google Sheets
      function fetchData(username) {
        fetch(URL)
          .then(response => response.json())
          .then(data => {
            // Process the returned data (in data.values)
            const attendanceData = data.values;
            
            // Find the row with the provided username
            const rowWithUsername = attendanceData.find(row => row[0] === username);
            
            if (rowWithUsername) {
              // Display the attendance count for the username
              const attendanceCount = rowWithUsername[0];
              alert(`Attendance for ${username}: ${attendanceCount}`);
            } else {
              alert(`Username "${username}" not found.`);
            }
          })
          .catch(error => console.error('Error:', error));
      }
    </script>
  </head>
  <body>
    <h1>Check Your Attendance</h1>
    <label for="username">Enter Your Username:</label>
    <input type="text" id="username" name="username" placeholder="Username">
    <button onclick="fetchData(document.getElementById('username').value)">Check Attendance</button>
  </body>
</html>
